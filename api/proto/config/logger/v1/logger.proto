syntax = "proto3";

package runtime.api.config.logger.v1;

import "gnostic/openapi/v3/annotations.proto";

option go_package = "github.com/origadmin/runtime/api/gen/go/config/logger/v1;loggerv1";





// Logger level
enum LoggerLevel {
  LOGGER_LEVEL_UNSPECIFIED = 0;
  LOGGER_LEVEL_DEBUG = 1;
  LOGGER_LEVEL_INFO = 2;
  LOGGER_LEVEL_WARN = 3;
  LOGGER_LEVEL_ERROR = 4;
  LOGGER_LEVEL_FATAL = 5;
}

// Logger hook message
message LoggerHookMessage {
  string level = 1 [
    json_name = "level",
    (gnostic.openapi.v3.property) = {description: "The log level of the message."}
  ];
  string message = 2 [
    json_name = "message",
    (gnostic.openapi.v3.property) = {description: "The log message content."}
  ];
  string stacktrace = 3 [
    json_name = "stacktrace",
    (gnostic.openapi.v3.property) = {description: "The stack trace if available."}
  ];
  string error = 4 [
    json_name = "error",
    (gnostic.openapi.v3.property) = {description: "The error message if available."}
  ];
  map<string, string> fields = 5 [
    json_name = "fields",
    (gnostic.openapi.v3.property) = {description: "Additional fields associated with the log message."}
  ];
}

// Logger
message Logger {
  // Logger file
  message File {
    string path = 1 [
      json_name = "path",
      (gnostic.openapi.v3.property) = {description: "The path to the log file."}
    ];
    bool lumberjack = 2 [
      json_name = "lumberjack",
      (gnostic.openapi.v3.property) = {description: "Whether to use lumberjack for log rotation."}
    ];
    bool compress = 3 [
      json_name = "compress",
      (gnostic.openapi.v3.property) = {description: "Whether to compress old log files."}
    ];
    bool local_time = 4 [
      json_name = "local_time",
      (gnostic.openapi.v3.property) = {description: "Whether to use local time for log timestamps."}
    ];
    int32 max_size = 5 [
      json_name = "max_size",
      (gnostic.openapi.v3.property) = {description: "The maximum size in megabytes of the log file before rotation."}
    ];
    int32 max_age = 6 [
      json_name = "max_age",
      (gnostic.openapi.v3.property) = {description: "The maximum number of days to retain old log files."}
    ];
    int32 max_backups = 7 [
      json_name = "max_backups",
      (gnostic.openapi.v3.property) = {description: "The maximum number of old log files to retain."}
    ];
  }

  // Dev logger
  message DevLogger {
    uint32 max_slice = 1 [
      json_name = "max_slice",
      (gnostic.openapi.v3.property) = {description: "Maximum slice length for development logger."}
    ];
    bool sort_keys = 2 [
      json_name = "sort_keys",
      (gnostic.openapi.v3.property) = {description: "Whether to sort keys in development logger output."}
    ];
    bool newline = 3 [
      json_name = "newline",
      (gnostic.openapi.v3.property) = {description: "Whether to add a newline at the end of development logger output."}
    ];
    bool indent = 4 [
      json_name = "indent",
      (gnostic.openapi.v3.property) = {description: "Whether to indent development logger output."}
    ];
    uint32 debug_color = 5 [
      json_name = "debug_color",
      (gnostic.openapi.v3.property) = {description: "Color code for debug level in development logger."}
    ];
    uint32 info_color = 6 [
      json_name = "info_color",
      (gnostic.openapi.v3.property) = {description: "Color code for info level in development logger."}
    ];
    uint32 warn_color = 7 [
      json_name = "warn_color",
      (gnostic.openapi.v3.property) = {description: "Color code for warn level in development logger."}
    ];
    uint32 error_color = 8 [
      json_name = "error_color",
      (gnostic.openapi.v3.property) = {description: "Color code for error level in development logger."}
    ];
    uint32 max_trace = 9 [
      json_name = "max_trace",
      (gnostic.openapi.v3.property) = {description: "Maximum trace depth for development logger."}
    ];
    bool formatter = 10 [
      json_name = "formatter",
      (gnostic.openapi.v3.property) = {description: "Whether to use a custom formatter for development logger."}
    ];
  }

  // Disable logger
  bool disabled = 1 [
    json_name = "disabled",
    (gnostic.openapi.v3.property) = {description: "Whether to disable the logger."}
  ];
  // Enable dev logger output
  bool develop = 2 [
    json_name = "develop",
    (gnostic.openapi.v3.property) = {description: "Whether to enable development logger output."}
  ];
  // Set default logger
  bool default = 3 [
    json_name = "default",
    (gnostic.openapi.v3.property) = {description: "Whether this is the default logger configuration."}
  ];
  // Logger name
  string name = 4 [
    json_name = "name",
    (gnostic.openapi.v3.property) = {description: "The name of the logger instance."}
  ];
  // Logger format json text or tint
  string format = 5 [
    json_name = "format",
    (gnostic.openapi.v3.property) = {description: "The output format of the logger (e.g., json, text, tint)."}
  ];
  // Logger level
  string level = 6 [
    json_name = "level",
    (gnostic.openapi.v3.property) = {description: "The minimum logging level (e.g., debug, info, warn, error, fatal)."}
  ];
  // Logger output stdout
  bool stdout = 7 [
    json_name = "stdout",
    (gnostic.openapi.v3.property) = {description: "Whether to output logs to standard output."}
  ];
  // Disable logger caller
  bool disable_caller = 8 [
    json_name = "disable_caller",
    (gnostic.openapi.v3.property) = {description: "Whether to disable logging the caller's file and line number."}
  ];
  // Logger caller skip
  uint32 caller_skip = 9 [
    json_name = "caller_skip",
    (gnostic.openapi.v3.property) = {description: "The number of stack frames to skip when determining the caller."}
  ];
  // Logger time format
  string time_format = 10 [
    json_name = "time_format",
    (gnostic.openapi.v3.property) = {description: "The format for log timestamps (e.g., RFC3339)."}
  ];

  // Logger file output logger
  File file = 100 [
    json_name = "file",
    (gnostic.openapi.v3.property) = {description: "File output configuration for the logger."}
  ];
  // Logger dev logger logger
  DevLogger dev_logger = 101 [
    json_name = "dev_logger",
    (gnostic.openapi.v3.property) = {description: "Development logger configuration."}
  ]; //DevLogger
}
