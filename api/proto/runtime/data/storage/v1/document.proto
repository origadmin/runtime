syntax = "proto3";

package runtime.data.storage.v1;

import "gnostic/openapi/v3/annotations.proto";
import "validate/validate.proto";
import "google/protobuf/struct.proto";
import "runtime/data/storage/v1/mongo.proto";

option go_package = "github.com/origadmin/runtime/api/gen/go/runtime/data/storage/v1;storagev1";

// DocumentConfig defines the configuration for a document database instance.
message DocumentConfig {
  // Unique name for this document database configuration instance.
  string name = 1;
  // The type of document database, e.g., "mongo", "customize".
  string type = 2 [
    json_name = "type",
    (validate.rules).string = {
      in: [
        "mongo",
        "customize"
      ]
    },
    (gnostic.openapi.v3.property) = {description: "The type of document database (e.g., mongo, customize)."}
  ];

  // Optional MongoDB configuration.
  optional MongoConfig mongo = 10 [
    json_name = "mongo",
    (gnostic.openapi.v3.property) = {description: "MongoDB specific configuration."}
  ];

  // Optional custom configuration for document database types not explicitly defined.
  optional google.protobuf.Struct customize = 100 [
    json_name = "customize",
    (gnostic.openapi.v3.property) = {description: "Custom configuration for document database types not explicitly defined."}
  ];
}
