syntax = "proto3";

package test.configs;

// Import all required configuration proto files
import "runtime/app/v1/app.proto";
import "runtime/config/v1/client.proto";
import "runtime/config/v1/gateway.proto";
import "runtime/config/v1/server.proto";
import "runtime/config/v1/tracer.proto";
import "runtime/config/v1/websocket.proto";
import "runtime/discovery/v1/discovery.proto";
import "runtime/extension/v1/extension.proto";
import "runtime/logger/v1/logger.proto";
import "runtime/middleware/v1/middleware.proto";
import "runtime/security/authn/v1/authn.proto";
import "runtime/security/authz/v1/authz.proto";
import "runtime/security/transport/v1/tls.proto";
import "runtime/storage/v1/storage.proto";
import "runtime/task/v1/task.proto";
import "runtime/transport/v1/transport.proto";

option go_package = "github.com/origadmin/runtime/test/integration/config/proto;configs";

// TestConfig is the unified configuration structure for all integration tests.
message TestConfig {
  // App configuration from app.proto
  runtime.app.v1.App app = 1;

  runtime.transport.v1.Servers servers = 2;
  runtime.transport.v1.Clients clients = 3;

  runtime.config.v1.Server server = 4;

  // Client configuration for downstream services
  runtime.config.v1.Client client = 5;

  // Service discovery configurations
  runtime.discovery.v1.Discoveries discoveries = 6;

  // Service registration configuration
  string registration_discovery_name = 7;

  // Other component configurations
  runtime.logger.v1.Logger logger = 8;
  runtime.config.v1.Tracer tracer = 9;
  runtime.middleware.v1.Middlewares middlewares = 10; // Corrected: changed type to Middlewares and field name to middlewares
  runtime.config.v1.Gateway gateway = 11;
  runtime.storage.v1.Storage storage = 12;
  runtime.task.v1.Task task = 13;
  runtime.config.v1.WebSocket websocket = 14;
  runtime.extension.v1.Extension extension = 15;
  runtime.security.authn.v1.AuthN authn = 16;
  runtime.security.authz.v1.AuthZ authz = 17;
  runtime.security.transport.v1.TLSConfig tls = 18;
}
