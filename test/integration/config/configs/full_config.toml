[app]
name = "my-test-app"

[[discoveries]]
name = "internal-consul"
[discoveries.config]
service_name = "my-test-app"
type = "consul"
[discoveries.config.consul]
address = "consul.internal:8500"

[[discoveries]]
name = "legacy-etcd"
[discoveries.config]
service_name = ""
type = "etcd"
[discoveries.config.etcd]
endpoints = ["etcd.legacy:2379"]

registration_discovery_name = "internal-consul"

[[grpc_servers]]
addr = ":9001"
endpoint = "127.0.0.1:9001"

[[http_servers]]
addr = ":8001"
endpoint = "127.0.0.1:8001"

clients = ["user-service", "stock-service"]
