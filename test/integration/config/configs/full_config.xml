<?xml version="1.0" encoding="UTF-8"?>
<bootstrap>
    <discoveries>
        <name>internal-consul</name>
        <config>
            <service_name>my-test-app</service_name>
            <type>consul</type>
            <consul>
                <address>consul.internal:8500</address>
            </consul>
        </config>
    </discoveries>
    <discoveries>
        <name>legacy-etcd</name>
        <config>
            <service_name></service_name>
            <type>etcd</type>
            <etcd>
                <endpoints>etcd.legacy:2379</endpoints>
            </etcd>
        </config>
    </discoveries>
    <registration_discovery_name>internal-consul</registration_discovery_name>
    <grpc_servers>
        <addr>:9001</addr>
        <endpoint>127.0.0.1:9001</endpoint>
    </grpc_servers>
    <http_servers>
        <addr>:8001</addr>
        <endpoint>127.0.0.1:8001</endpoint>
    </http_servers>
    <clients>
        <name>user-service</name>
        <discovery_name>internal-consul</discovery_name>
        <endpoint>discovery:///user-service</endpoint>
        <selector>
            <version>v1.5.0</version>
        </selector>
    </clients>
    <clients>
        <name>stock-service</name>
        <discovery_name>legacy-etcd</discovery_name>
        <endpoint>discovery:///stock-service</endpoint>
        <selector>
            <version>v1.0.1</version>
        </selector>
    </clients>
</bootstrap>
