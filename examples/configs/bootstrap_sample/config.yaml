# 这是一个全面的 config.yaml 示例，其结构与 bootstrap.proto 定义的 Bootstrap 消息相匹配。

logger:
  level: info
  format: json

servers:
  configs:
    - name: http_server
      protocol: http
      http:
        addr: 0.0.0.0:8000
        timeout: 1s

    - name: grpc_server
      protocol: grpc
      grpc:
        addr: 0.0.0.0:9000
        timeout: 1s

data:
  databases:
    configs:
      - name: default_db
        dialect: "mysql"
        source: "user:password@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&parseTime=True&loc=Local"
  caches:
    configs:
      - name: default_redis
        driver: redis
        redis:
          addr: "127.0.0.1:6379"
          password: ""
          db: 0

discoveries:
  configs:
    - name: default_consul
      type: consul
      consul:
        address: "127.0.0.1:8500"
        scheme: "http"

middlewares:
  configs:
    - name: default_recovery
      type: recovery
      enabled: true

    - name: default_tracing
      type: tracing
      enabled: true

brokers:
  configs:
    - name: default_kafka
      type: kafka
      kafka:
        brokers: [ "127.0.0.1:9092" ]
